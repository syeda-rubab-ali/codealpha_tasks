{% extends "base.html" %}
{% block title %}Profile - SocialApp{% endblock %}
{% block content %}
<div class="profile">
    <div class="profile-header">
        {% if profile_user.profile.avatar_url %}
            <img class="avatar" src="{{ profile_user.profile.avatar_url }}" alt="avatar">
        {% endif %}
        <h2>@{{ profile_user.username }}</h2>
        <p>{{ profile_user.profile.bio }}</p>
        <p>
            <strong>{{ followers_count }}</strong> followers Â·
            <strong>{{ following_count }}</strong> following
        </p>
        {% if user.is_authenticated and user.username != profile_user.username %}
            <button class="follow-btn" data-username="{{ profile_user.username }}">
                {% if is_following %}Unfollow{% else %}Follow{% endif %}
            </button>
        {% elif user.is_authenticated %}
            <a href="/profile/edit/">Edit profile</a>
        {% endif %}
    </div>
    <hr>
    <div class="posts">
        {% for post in posts %}
            <div class="post">
                <div class="post-header">
                    <span class="ts">{{ post.created_at }}</span>
                </div>
                <div class="post-content">{{ post.content|linebreaks }}</div>
            </div>
        {% empty %}
            <p>No posts yet.</p>
        {% endfor %}
    </div>
{% endblock %}

